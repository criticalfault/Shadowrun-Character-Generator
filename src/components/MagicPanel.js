import React, { useState } from 'react';
import { MenuItem } from '@mui/material';
import FormControl from '@mui/material/FormControl';
import InputLabel from '@mui/material/InputLabel';
import Select from '@mui/material/Select';
import Button from '@mui/material/Button';
import List from '@mui/material/List';
import ListItem from '@mui/material/ListItem';
import ListItemText from '@mui/material/ListItemText';
import TextField from '@mui/material/TextField';
import LinearProgress from '@mui/material/LinearProgress';
import Box from '@mui/material/Box';
function MagicPanel(props) {
  const [spellsData, setSpellsData] = useState([{"Name":"Cold Ball","BookPage":"tss.4","Type":"P","Target":"B(R)","Duration":"I","Range":"LOS","Drain":"+2(S)","Class":"C","Notes":""},{"Name":"Death Touch","BookPage":"sr3.191","Type":"M","Target":"W(R)","Duration":"I","Range":"T","Drain":"(DL-1)","Class":"C","Notes":""},{"Name":"Dispel Insect Spirit","BookPage":"tss.9","Type":"P","Target":"B(R)","Duration":"S","Range":"LOS","Drain":"(D)","Class":"C","Notes":"should have been named REPEL??"},{"Name":"Freezing Grasp","BookPage":"tss.4","Type":"P","Target":"B(R)","Duration":"I","Range":"LOS","Drain":"+1(L)","Class":"C","Notes":""},{"Name":"Manaball","BookPage":"sr3.191","Type":"M","Target":"W(R)","Duration":"I","Range":"LOS(A)","Drain":"(DL+1)","Class":"C","Notes":""},{"Name":"Manabolt","BookPage":"sr3.191","Type":"M","Target":"W(R)","Duration":"I","Range":"LOS","Drain":"(DL)","Class":"C","Notes":""},{"Name":"Piercing Meow","BookPage":"tss.9","Type":"P","Target":"W(R)","Duration":"S","Range":"LOS","Drain":"(S)","Class":"C","Notes":""},{"Name":"Powerball","BookPage":"sr3.191","Type":"P","Target":"B(R)","Duration":"I","Range":"LOS(A)","Drain":"+1(DL+1)","Class":"C","Notes":""},{"Name":"Powerbolt","BookPage":"sr3.191","Type":"P","Target":"B(R)","Duration":"I","Range":"LOS","Drain":"+1(DL)","Class":"C","Notes":""},{"Name":"Ram->","BookPage":"mits.140","Type":"P","Target":"OR","Duration":"I","Range":"LOS","Drain":"+1(DL-2)","Class":"C","Notes":""},{"Name":"Shattershield","BookPage":"mits.140","Type":"M","Target":"F(R)","Duration":"I","Range":"T","Drain":"(M)","Class":"C","Notes":""},{"Name":"Slaughter(Race/Species)->","BookPage":"mits.140","Type":"M","Target":"W(R)","Duration":"I","Range":"LOS(A)","Drain":"+1(D)","Class":"C","Notes":""},{"Name":"Slay(Race/Species)->","BookPage":"mits.140","Type":"M","Target":"W(R)","Duration":"I","Range":"LOS","Drain":"-1(D)","Class":"C","Notes":""},{"Name":"Spiritblast","BookPage":"mits.140","Type":"M","Target":"F(R)","Duration":"I","Range":"LOS(A)","Drain":"-1(DL+1)","Class":"C","Notes":""},{"Name":"Spiritbolt","BookPage":"mits.140","Type":"M","Target":"F(R)","Duration":"I","Range":"LOS","Drain":"-1(DL)","Class":"C","Notes":""},{"Name":"Stunball","BookPage":"sr3.191","Type":"M","Target":"W(R)","Duration":"I","Range":"LOS(A)","Drain":"-1(DL+1)","Class":"C","Notes":""},{"Name":"Stunbolt","BookPage":"sr3.191","Type":"M","Target":"W(R)","Duration":"I","Range":"LOS","Drain":"-1(DL)","Class":"C","Notes":""},{"Name":"Stuntouch","BookPage":"mits.140","Type":"M","Target":"W(R)","Duration":"I","Range":"T","Drain":"-1(DL-1)","Class":"C","Notes":""},{"Name":"Wreck->","BookPage":"mits.140","Type":"P","Target":"OR","Duration":"I","Range":"LOS","Drain":"+1(DL-1)","Class":"C","Notes":""},{"Name":"Analyze Device","BookPage":"sr3.192","Type":"P","Target":"OR","Duration":"S","Range":"T/D","Drain":"+1(M)","Class":"D","Notes":""},{"Name":"Analyze Magic","BookPage":"mits.140","Type":"M","Target":"F(R)","Duration":"S","Range":"T/D","Drain":"(L)","Class":"D","Notes":""},{"Name":"Analyze Truth","BookPage":"sr3.192","Type":"M","Target":"W(R)","Duration":"S","Range":"T/D","Drain":"(L)","Class":"D","Notes":""},{"Name":"Animal(Sense)","BookPage":"mits.140","Type":"M","Target":"W(R)","Duration":"S","Range":"T/D","Drain":"(M)","Class":"D","Notes":""},{"Name":"Astral Window","BookPage":"mits.140","Type":"M","Target":"F(R)","Duration":"S","Range":"T/D","Drain":"(L)","Class":"D","Notes":""},{"Name":"Catalog","BookPage":"mits.141","Type":"P","Target":"6","Duration":"S","Range":"T/A","Drain":"+1(M)","Class":"D","Notes":""},{"Name":"Cat's Eye","BookPage":"tss.9","Type":"P","Target":"4","Duration":"S","Range":"P","Drain":"+2(S)","Class":"D","Notes":""},{"Name":"Clairaudience","BookPage":"sr3.192","Type":"M","Target":"6(R)","Duration":"S","Range":"T/D","Drain":"(M)","Class":"D","Notes":""},{"Name":"Clairvoyance","BookPage":"sr3.192","Type":"M","Target":"6(R)","Duration":"S","Range":"T/D","Drain":"(M)","Class":"D","Notes":""},{"Name":"Combat Sense","BookPage":"sr3.192","Type":"M","Target":"4","Duration":"S","Range":"T","Drain":"(S)","Class":"D","Notes":""},{"Name":"Detect Enemies","BookPage":"sr3.192","Type":"M","Target":"DT(R)","Duration":"S","Range":"T/A","Drain":"(M)","Class":"D","Notes":""},{"Name":"Detect Individual","BookPage":"sr3.192","Type":"M","Target":"DT(R)","Duration":"S","Range":"T/A","Drain":"(L)","Class":"D","Notes":""},{"Name":"Detect Life","BookPage":"sr3.192","Type":"M","Target":"DT(R)","Duration":"S","Range":"T/A","Drain":"(L)","Class":"D","Notes":""},{"Name":"Detect(Life Form)->","BookPage":"sr3.193","Type":"M","Target":"DT(R)","Duration":"S","Range":"T/A","Drain":"-1(L)","Class":"D","Notes":""},{"Name":"Detect Magic","BookPage":"sr3.193","Type":"M","Target":"6(4)","Duration":"S","Range":"T/A","Drain":"(L)","Class":"D","Notes":""},{"Name":"Detect(Object)->","BookPage":"sr3.193","Type":"P","Target":"DT","Duration":"S","Range":"T/A","Drain":"+1(M)","Class":"D","Notes":""},{"Name":"Diagnose","BookPage":"mits.141","Type":"M","Target":"W(R)","Duration":"S","Range":"T/D","Drain":"-1(L)","Class":"D","Notes":""},{"Name":"Enhance Aim","BookPage":"mits.141","Type":"M","Target":"6(R)","Duration":"S","Range":"T/D","Drain":"(M)","Class":"D","Notes":""},{"Name":"Eyes of the Pack","BookPage":"mits.141","Type":"M","Target":"6(V)","Duration":"S","Range":"T/D","Drain":"(M)","Class":"D","Notes":""},{"Name":"Identify","BookPage":"tss.9","Type":"M","Target":"OR","Duration":"S","Range":"LOS","Drain":"+1(L)","Class":"D","Notes":"not the same as D&D spell of same name"},{"Name":"Ignore","BookPage":"tss.9","Type":"M","Target":"W","Duration":"S","Range":"LOS","Drain":"+1(M)","Class":"D","Notes":""},{"Name":"Mindlink","BookPage":"sr3.193","Type":"M","Target":"4(V)","Duration":"S","Range":"LOS/D","Drain":"(S)","Class":"D","Notes":""},{"Name":"Mindprobe","BookPage":"sr3.193","Type":"M","Target":"W(R)","Duration":"S","Range":"T/D","Drain":"(S)","Class":"D","Notes":""},{"Name":"Nightvision","BookPage":"mits.141","Type":"P","Target":"6(R)","Duration":"S","Range":"T/D","Drain":"+1(M)","Class":"D","Notes":""},{"Name":"Prey","BookPage":"tss.9","Type":"M","Target":"W","Duration":"S","Range":"LOS","Drain":"-1(S)","Class":"D","Notes":""},{"Name":"Private Conversation","BookPage":"tss.9","Type":"M","Target":"W","Duration":"S","Range":"T","Drain":"(S)","Class":"D","Notes":""},{"Name":"Ranged Private Conversation    1","BookPage":"tss.9","Type":"M","Target":"W","Duration":"S","Range":"LOS","Drain":"+1(D)","Class":"D","Notes":"I assume the published range is a typo"},{"Name":"Sense Pads","BookPage":"tss.9","Type":"M","Target":"OR","Duration":"S","Range":"T","Drain":"(M)","Class":"D","Notes":""},{"Name":"Translate","BookPage":"mits.141","Type":"M","Target":"4(V)","Duration":"S","Range":"T/D","Drain":"(M)","Class":"D","Notes":""},{"Name":"Word Recognition","BookPage":"sta2.033","Type":"M","Target":"W","Duration":"S","Range":"LOS","Drain":"(M)","Class":"D","Notes":""},{"Name":"Alleviate Allergy","BookPage":"mits.141","Type":"P","Target":"10-E(V)","Duration":"S","Range":"T","Drain":"(Al. Level)","Class":"H","Notes":""},{"Name":"Antidote    (TOX LEV)","BookPage":"sr3.193","Type":"M","Target":"TOX(V)","Duration":"P","Range":"T","Drain":"(TOX DL)","Class":"H","Notes":""},{"Name":"Awaken","BookPage":"mits.141","Type":"M","Target":"4(V)","Duration":"I","Range":"T","Drain":"-2(SDL)","Class":"H","Notes":""},{"Name":"Cause Allergy","BookPage":"mits.142","Type":"P","Target":"10-E(R)","Duration":"S","Range":"T","Drain":"+2(AL LEV+1)","Class":"H","Notes":""},{"Name":"Cripple Limb","BookPage":"mits.142","Type":"P","Target":"B(T)","Duration":"S","Range":"T","Drain":"+1(S)","Class":"H","Notes":""},{"Name":"Cure Disease","BookPage":"sr3.193","Type":"M","Target":"DP(T)","Duration":"P","Range":"T","Drain":"(DIS DL)","Class":"H","Notes":""},{"Name":"Decrease Attribute (B)","BookPage":"sr3.193","Type":"M","Target":"10-E(R)","Duration":"S","Range":"T","Drain":"+1(S)","Class":"H","Notes":""},{"Name":"Decrease Attribute (C)","BookPage":"sr3.193","Type":"M","Target":"10-E(R)","Duration":"S","Range":"T","Drain":"+1(S)","Class":"H","Notes":""},{"Name":"Decrease Attribute (I)","BookPage":"sr3.193","Type":"M","Target":"10-E(R)","Duration":"S","Range":"T","Drain":"+1(S)","Class":"H","Notes":""},{"Name":"Decrease Attribute (Q)","BookPage":"sr3.193","Type":"M","Target":"10-E(R)","Duration":"S","Range":"T","Drain":"+1(S)","Class":"H","Notes":""},{"Name":"Decrease Attribute (S)","BookPage":"sr3.193","Type":"M","Target":"10-E(R)","Duration":"S","Range":"T","Drain":"+1(S)","Class":"H","Notes":""},{"Name":"Decrease Attribute (W)","BookPage":"sr3.193","Type":"M","Target":"10-E(R)","Duration":"S","Range":"T","Drain":"+1(S)","Class":"H","Notes":""},{"Name":"Decrease Cyber Attribute (B)   1","BookPage":"sr3.193","Type":"P","Target":"10-E(R)","Duration":"S","Range":"T","Drain":"+2(S)","Class":"H","Notes":""},{"Name":"Decrease Cyber Attribute (C)   1","BookPage":"sr3.193","Type":"P","Target":"10-E(R)","Duration":"S","Range":"T","Drain":"+2(S)","Class":"H","Notes":""},{"Name":"Decrease Cyber Attribute (I)   1","BookPage":"sr3.193","Type":"P","Target":"10-E(R)","Duration":"S","Range":"T","Drain":"+2(S)","Class":"H","Notes":""},{"Name":"Decrease Cyber Attribute (Q)   1","BookPage":"sr3.193","Type":"P","Target":"10-E(R)","Duration":"S","Range":"T","Drain":"+2(S)","Class":"H","Notes":""},{"Name":"Decrease Cyber Attribute (S)   1","BookPage":"sr3.193","Type":"P","Target":"10-E(R)","Duration":"S","Range":"T","Drain":"+2(S)","Class":"H","Notes":""},{"Name":"Decrease Cyber Attribute (W)   1","BookPage":"sr3.193","Type":"P","Target":"10-E(R)","Duration":"S","Range":"T","Drain":"+2(S)","Class":"H","Notes":""},{"Name":"Decrease Cybered Reaction","BookPage":"mits.142","Type":"P","Target":"10-E(R)","Duration":"S","Range":"T","Drain":"+2(D)","Class":"H","Notes":""},{"Name":"Decrease Reaction","BookPage":"mits.142","Type":"M","Target":"10-E(R)","Duration":"S","Range":"T","Drain":"+1(D)","Class":"H","Notes":""},{"Name":"Decreased Reflexes -1INI DIE   1","BookPage":"mits.142","Type":"P","Target":"10-E(R)","Duration":"S","Range":"T","Drain":"+2(D)","Class":"H","Notes":""},{"Name":"Decreased Reflexes -2INI DIE   1","BookPage":"mits.142","Type":"P","Target":"10-E(R)","Duration":"S","Range":"T","Drain":"+4(D)","Class":"H","Notes":""},{"Name":"Decreased Reflexes -3INI DIE   1","BookPage":"mits.142","Type":"P","Target":"10-E(R)","Duration":"S","Range":"T","Drain":"+6(D)","Class":"H","Notes":""},{"Name":"Detox","BookPage":"sr3.193","Type":"M","Target":"TOX(V)","Duration":"P","Range":"T","Drain":"-2(TOX DL)","Class":"H","Notes":""},{"Name":"Fast","BookPage":"mits.142","Type":"M","Target":"4(V)","Duration":"P","Range":"T","Drain":"-2(M)","Class":"H","Notes":""},{"Name":"Heal","BookPage":"sr3.193","Type":"M","Target":"10-E(V)","Duration":"P","Range":"T","Drain":"(DL)","Class":"H","Notes":""},{"Name":"Healthy Glow","BookPage":"sr3.194","Type":"M","Target":"4(V)","Duration":"P","Range":"T","Drain":"(L)","Class":"H","Notes":""},{"Name":"Hibernate","BookPage":"sr3.194","Type":"M","Target":"4(V)","Duration":"S","Range":"T","Drain":"+1(M)","Class":"H","Notes":""},{"Name":"Increased Attribute (B)","BookPage":"sr3.194","Type":"M","Target":"Att(V)","Duration":"S","Range":"T","Drain":"+1(M)","Class":"H","Notes":""},{"Name":"Increased Attribute (C)","BookPage":"sr3.194","Type":"M","Target":"Att(V)","Duration":"S","Range":"T","Drain":"+1(M)","Class":"H","Notes":""},{"Name":"Increased Attribute (I)","BookPage":"sr3.194","Type":"M","Target":"Att(V)","Duration":"S","Range":"T","Drain":"+1(M)","Class":"H","Notes":""},{"Name":"Increased Attribute (Q)","BookPage":"sr3.194","Type":"M","Target":"Att(V)","Duration":"S","Range":"T","Drain":"+1(M)","Class":"H","Notes":""},{"Name":"Increased Attribute (S)","BookPage":"sr3.194","Type":"M","Target":"Att(V)","Duration":"S","Range":"T","Drain":"+1(M)","Class":"H","Notes":""},{"Name":"Increased Attribute (W)","BookPage":"sr3.194","Type":"M","Target":"Att(V)","Duration":"S","Range":"T","Drain":"+1(M)","Class":"H","Notes":""},{"Name":"Increased Cyber Attribute (B)  1","BookPage":"sr3.194","Type":"P","Target":"Att(V)","Duration":"S","Range":"T","Drain":"+2(M)","Class":"H","Notes":""},{"Name":"Increased Cyber Attribute (C)  1","BookPage":"sr3.194","Type":"P","Target":"Att(V)","Duration":"S","Range":"T","Drain":"+2(M)","Class":"H","Notes":""},{"Name":"Increased Cyber Attribute (I)  1","BookPage":"sr3.194","Type":"P","Target":"Att(V)","Duration":"S","Range":"T","Drain":"+2(M)","Class":"H","Notes":""},{"Name":"Increased Cyber Attribute (Q)  1","BookPage":"sr3.194","Type":"P","Target":"Att(V)","Duration":"S","Range":"T","Drain":"+2(M)","Class":"H","Notes":""},{"Name":"Increased Cyber Attribute (S)  1","BookPage":"sr3.194","Type":"P","Target":"Att(V)","Duration":"S","Range":"T","Drain":"+2(M)","Class":"H","Notes":""},{"Name":"Increased Cyber Attribute (W)  1","BookPage":"sr3.194","Type":"P","Target":"Att(V)","Duration":"S","Range":"T","Drain":"+2(M)","Class":"H","Notes":""},{"Name":"Increased Reaction","BookPage":"sr3.194","Type":"M","Target":"Rea(V)","Duration":"S","Range":"T","Drain":"+1(S)","Class":"H","Notes":""},{"Name":"Incr. Reflexes +1INI DIE","BookPage":"sr3.194","Type":"M","Target":"REA(V)","Duration":"S","Range":"T","Drain":"+1(S)","Class":"H","Notes":""},{"Name":"Incr. Reflexes +2INI DIE","BookPage":"sr3.194","Type":"M","Target":"REA(V)","Duration":"S","Range":"T","Drain":"+1(D)","Class":"H","Notes":""},{"Name":"Incr. Reflexes +3INI DIE","BookPage":"sr3.194","Type":"M","Target":"REA(V)","Duration":"S","Range":"T","Drain":"+3(D)","Class":"H","Notes":""},{"Name":"Intoxication","BookPage":"mits.142","Type":"P","Target":"B(T)","Duration":"P","Range":"T","Drain":"+1(D)","Class":"H","Notes":""},{"Name":"Nutritiion","BookPage":"mits.142","Type":"P","Target":"4(V)","Duration":"P","Range":"T","Drain":"+1(M)","Class":"H","Notes":""},{"Name":"Oxygenate","BookPage":"sr3.194","Type":"P","Target":"4(V)","Duration":"S","Range":"T","Drain":"+2(L)","Class":"H","Notes":""},{"Name":"Preserve","BookPage":"mits.142","Type":"P","Target":"4","Duration":"P","Range":"T","Drain":"+1(M)","Class":"H","Notes":""},{"Name":"Prophylaxis","BookPage":"sr3.194","Type":"M","Target":"4(V)","Duration":"S","Range":"T","Drain":"+1(L)","Class":"H","Notes":""},{"Name":"Resist Pain","BookPage":"sr3.194","Type":"M","Target":"4(V)","Duration":"P","Range":"T","Drain":"-2(DL)","Class":"H","Notes":""},{"Name":"Stabilize","BookPage":"sr3.194","Type":"M","Target":"4+MIN V","Duration":"P","Range":"T","Drain":"+1(M)","Class":"H","Notes":""},{"Name":"Treat","BookPage":"sr3.193","Type":"M","Target":"10-E(V)","Duration":"P","Range":"T","Drain":"-1(DL)","Class":"H","Notes":""},{"Name":"Agony","BookPage":"mits.142","Type":"M","Target":"W(R)","Duration":"S","Range":"LOS","Drain":"(M)","Class":"I","Notes":""},{"Name":"Blindness","BookPage":"mits.143","Type":"P","Target":"I(R)","Duration":"S","Range":"LOS","Drain":"+1(M)","Class":"I","Notes":""},{"Name":"Chaff","BookPage":"mits.143","Type":"P","Target":"OR","Duration":"S","Range":"LOS","Drain":"(S)","Class":"I","Notes":""},{"Name":"Chaos","BookPage":"sr3.195","Type":"P","Target":"I(R)","Duration":"S","Range":"LOS","Drain":"+1(S)","Class":"I","Notes":""},{"Name":"Chaotic World","BookPage":"sr3.195","Type":"P","Target":"I(R)","Duration":"S","Range":"LOS(A)","Drain":"+1(D)","Class":"I","Notes":""},{"Name":"Confusion","BookPage":"sr3.195","Type":"M","Target":"W(R)","Duration":"S","Range":"LOS","Drain":"(S)","Class":"I","Notes":""},{"Name":"Delusion","BookPage":"tss.9","Type":"M","Target":"W(R)","Duration":"S","Range":"LOS","Drain":"+2(D)","Class":"I","Notes":"Target changed to fit with other Direct Illusions"},{"Name":"Dream","BookPage":"mits.143","Type":"M","Target":"W(R)","Duration":"S","Range":"LOS","Drain":"(M)","Class":"I","Notes":""},{"Name":"Entertainment","BookPage":"sr3.195","Type":"M","Target":"W(V)","Duration":"S","Range":"LOS(A)","Drain":"(L)","Class":"I","Notes":""},{"Name":"Flak","BookPage":"mits.143","Type":"P","Target":"OR","Duration":"S","Range":"LOS(A)","Drain":"(D)","Class":"I","Notes":""},{"Name":"Flash","BookPage":"mits.143","Type":"P","Target":"I(R)","Duration":"I","Range":"LOS(A)","Drain":"(S)","Class":"I","Notes":""},{"Name":"Mass Agony","BookPage":"mits.142","Type":"M","Target":"W(R)","Duration":"S","Range":"LOS(A)","Drain":"(S)","Class":"I","Notes":""},{"Name":"Mass Blindness","BookPage":"mits.143","Type":"M","Target":"I(R)","Duration":"S","Range":"LOS(A)","Drain":"+1(S)","Class":"I","Notes":""},{"Name":"Mass Confusion","BookPage":"sr3.195","Type":"M","Target":"W(R)","Duration":"S","Range":"LOS(A)","Drain":"(D)","Class":"I","Notes":""},{"Name":"Mirror","BookPage":"tss.9","Type":"M","Target":"W(R)","Duration":"S","Range":"LOS","Drain":"+1(S)","Class":"I","Notes":"Target changed to fit with other Direct Illusions"},{"Name":"Stench","BookPage":"mits.143","Type":"M","Target":"W(R)","Duration":"S","Range":"LOS(A)","Drain":"(S)","Class":"I","Notes":""},{"Name":"Stink","BookPage":"mits.143","Type":"M","Target":"W(R)","Duration":"S","Range":"LOS","Drain":"(M)","Class":"I","Notes":""},{"Name":"Trid Entertainment","BookPage":"sr3.195","Type":"P","Target":"I(V)","Duration":"S","Range":"LOS(A)","Drain":"+1(L)","Class":"I","Notes":""},{"Name":"Blur","BookPage":"tss.9","Type":"P","Target":"4(R)","Duration":"S","Range":"LOS","Drain":"+3(M)","Class":"N","Notes":"Target changed to fit with other Indirect Illusions"},{"Name":"Camouflage","BookPage":"mits.143","Type":"M","Target":"4(R)","Duration":"S","Range":"LOS","Drain":"(L)","Class":"N","Notes":""},{"Name":"Chasm","BookPage":"tss.9","Type":"P","Target":"4(R)","Duration":"S","Range":"LOS","Drain":"+2(D)","Class":"N","Notes":"Target changed to fit with other Indirect Illusions"},{"Name":"(Critter) Stampede","BookPage":"tss.9","Type":"P","Target":"4(R)","Duration":"S","Range":"LOS","Drain":"+2(D)","Class":"N","Notes":"Target changed to fit with other Indirect Illusions"},{"Name":"Double Image","BookPage":"mits.143","Type":"M","Target":"4(R)","Duration":"S","Range":"T","Drain":"(S)","Class":"N","Notes":""},{"Name":"Elegy","BookPage":"tss.9","Type":"P","Target":"4(R)","Duration":"S","Range":"L","Drain":"+2(S)","Class":"N","Notes":"Target changed to fit with other Indirect Illusions"},{"Name":"Fairie Fire","BookPage":"tss.4","Type":"M","Target":"W(R)","Duration":"S","Range":"LOS","Drain":"+2(M)","Class":"N","Notes":""},{"Name":"False Shadow","BookPage":"tss.9","Type":"M","Target":"4(R)","Duration":"S","Range":"LOS","Drain":"+1(M)","Class":"N","Notes":"Target changed to fit with other Indirect Illusions"},{"Name":"Foreboding","BookPage":"mits.143","Type":"M","Target":"4(R)","Duration":"S","Range":"LOS(A)","Drain":"(D)","Class":"N","Notes":""},{"Name":"Hot Potatoe","BookPage":"mits.143","Type":"M","Target":"4(R)","Duration":"S","Range":"LOS(A)","Drain":"(M)","Class":"N","Notes":""},{"Name":"Improved Invisibility","BookPage":"sr3.195","Type":"P","Target":"4(R)","Duration":"S","Range":"LOS","Drain":"+1(M)","Class":"N","Notes":""},{"Name":"Improved Voice Mask","BookPage":"tss.9","Type":"P","Target":"4(R)","Duration":"S","Range":"T(V)","Drain":"+3(L)","Class":"N","Notes":"Target changed to fit with other Indirect Illusions"},{"Name":"Invisibility","BookPage":"sr3.195","Type":"M","Target":"4(R)","Duration":"S","Range":"LOS","Drain":"(M)","Class":"N","Notes":""},{"Name":"Mask","BookPage":"sr3.195","Type":"M","Target":"4(R)","Duration":"S","Range":"LOS","Drain":"(M)","Class":"N","Notes":""},{"Name":"Phantasm","BookPage":"sr3.195","Type":"M","Target":"4(R)","Duration":"S","Range":"LOS(A)","Drain":"(D)","Class":"N","Notes":""},{"Name":"Phantasmal Orchestra","BookPage":"tss.9","Type":"M","Target":"4(R)","Duration":"S","Range":"L","Drain":"+1(S)","Class":"N","Notes":"Target changed to fit with other Indirect Illusions"},{"Name":"Physical Camouflage","BookPage":"mits.143","Type":"P","Target":"4(R)","Duration":"S","Range":"LOS","Drain":"+1(L)","Class":"N","Notes":""},{"Name":"Physical Double Image","BookPage":"mits.143","Type":"P","Target":"4(R)","Duration":"S","Range":"T","Drain":"+1(S)","Class":"N","Notes":""},{"Name":"Physical Mask","BookPage":"sr3.195","Type":"P","Target":"4(R)","Duration":"S","Range":"LOS","Drain":"+1(M)","Class":"N","Notes":""},{"Name":"Project Astral Entity","BookPage":"tss.9","Type":"P","Target":"4(R)","Duration":"S","Range":"L","Drain":"+3(M)","Class":"N","Notes":"Target changed to fit with other Indirect Illusions"},{"Name":"Sheath","BookPage":"tss.9","Type":"P","Target":"*","Duration":"S","Range":"LOS","Drain":"+1(M)","Class":"N","Notes":""},{"Name":"Silence","BookPage":"sr3.196","Type":"P","Target":"4(R)","Duration":"S","Range":"LOS(A)","Drain":"+1(S)","Class":"N","Notes":""},{"Name":"Stealth","BookPage":"sr3.196","Type":"P","Target":"4(R)","Duration":"S","Range":"LOS","Drain":"+1(M)","Class":"N","Notes":""},{"Name":"Sound Barrier","BookPage":"sta2.33","Type":"P","Target":"4(R)","Duration":"S","Range":"LOS","Drain":"+1(M)","Class":"N","Notes":""},{"Name":"Trid Phantasm","BookPage":"sr3.195","Type":"P","Target":"4(R)","Duration":"S","Range":"LOS(A)","Drain":"+1(D)","Class":"N","Notes":""},{"Name":"Vehicle Mask","BookPage":"mits.144","Type":"P","Target":"4(R)","Duration":"S","Range":"LOS","Drain":"+1(S)","Class":"N","Notes":""},{"Name":"Alter Memory","BookPage":"mits.144","Type":"M","Target":"W(T)","Duration":"P","Range":"LOS","Drain":"(D)","Class":"M","Notes":""},{"Name":"Berserker Rage","BookPage":"tss.9","Type":"M","Target":"W(R)","Duration":"S","Range":"LOS","Drain":"+1(S)","Class":"M","Notes":""},{"Name":"Calm Animal","BookPage":"mits.144","Type":"M","Target":"W(T)","Duration":"S","Range":"LOS","Drain":"(M)","Class":"M","Notes":""},{"Name":"Calm Pack","BookPage":"mits.144","Type":"M","Target":"W(T)","Duration":"S","Range":"LOS(A)","Drain":"(S)","Class":"M","Notes":""},{"Name":"Catnip","BookPage":"tss.9","Type":"M","Target":"W(R)","Duration":"S","Range":"LOS","Drain":"+3(M)","Class":"M","Notes":""},{"Name":"Compel Truth","BookPage":"mits.144","Type":"M","Target":"W(T)","Duration":"S","Range":"LOS","Drain":"+1(M)","Class":"M","Notes":""},{"Name":"Control Actions","BookPage":"sr3.196","Type":"M","Target":"W(T)","Duration":"S","Range":"LOS","Drain":"+1(M)","Class":"M","Notes":""},{"Name":"Control Animal","BookPage":"mits.144","Type":"M","Target":"W(T)","Duration":"S","Range":"LOS","Drain":"(S)","Class":"M","Notes":""},{"Name":"Control Emotion","BookPage":"sr3.196","Type":"M","Target":"W(T)","Duration":"S","Range":"LOS","Drain":"+1(M)","Class":"M","Notes":""},{"Name":"Control Pack","BookPage":"mits.144","Type":"M","Target":"W(T)","Duration":"S","Range":"LOS(A)","Drain":"(D)","Class":"M","Notes":""},{"Name":"Control Thoughts","BookPage":"sr3.196","Type":"M","Target":"W(T)","Duration":"S","Range":"LOS","Drain":"+1(S)","Class":"M","Notes":""},{"Name":"Influence","BookPage":"sr3.196","Type":"M","Target":"W(T)","Duration":"P","Range":"LOS","Drain":"(S)","Class":"M","Notes":""},{"Name":"Mob Mind","BookPage":"mits.145","Type":"M","Target":"W(T)","Duration":"S","Range":"LOS(A)","Drain":"+1(D)","Class":"M","Notes":""},{"Name":"Mob Mood","BookPage":"mits.145","Type":"M","Target":"W(T)","Duration":"S","Range":"LOS(A)","Drain":"+1(S)","Class":"M","Notes":""},{"Name":"Acid Stream","BookPage":"sr3.196","Type":"P","Target":"4(RC)","Duration":"I","Range":"LOS","Drain":"+1(DL+1)","Class":"E","Notes":""},{"Name":"Breeze","BookPage":"tss.18","Type":"P","Target":"2","Duration":"S","Range":"LOS","Drain":"(L)","Class":"E","Notes":""},{"Name":"Ball Lightning","BookPage":"sr3.197","Type":"P","Target":"4(RC)","Duration":"I","Range":"LOS(A)","Drain":"+1(DL+2)","Class":"E","Notes":""},{"Name":"Cake Ammunition","BookPage":"tss.9","Type":"P","Target":"OR","Duration":"I","Range":"LOS","Drain":"+1(S)","Class":"E","Notes":""},{"Name":"Fireball","BookPage":"sr3.197","Type":"P","Target":"4(RC)","Duration":"I","Range":"LOS(A)","Drain":"+1(DL+2)","Class":"E","Notes":""},{"Name":"Flamethrower","BookPage":"sr3.197","Type":"P","Target":"4(RC)","Duration":"I","Range":"LOS","Drain":"+1(DL+1)","Class":"E","Notes":""},{"Name":"Ice Bolt","BookPage":"tss.4","Type":"P","Target":"4(RC)","Duration":"I","Range":"LOS","Drain":"+3(S)","Class":"E","Notes":""},{"Name":"Laser","BookPage":"mits.145","Type":"P","Target":"4(RC)","Duration":"I","Range":"LOS","Drain":"+1(DL+1)","Class":"E","Notes":""},{"Name":"Lightning Bolt","BookPage":"sr3.197","Type":"P","Target":"4(RC)","Duration":"I","Range":"LOS","Drain":"+1(DL+1)","Class":"E","Notes":""},{"Name":"Nova","BookPage":"mits.145","Type":"P","Target":"4(RC)","Duration":"I","Range":"LOS(A)","Drain":"+1(DL+2)","Class":"E","Notes":""},{"Name":"Smoke Cloud","BookPage":"mits.145","Type":"P","Target":"4(RC)","Duration":"I","Range":"LOS(A)","Drain":"(DL+2)","Class":"E","Notes":""},{"Name":"Splash","BookPage":"twl.124","Type":"P","Target":"4(RC)","Duration":"I","Range":"LOS","Drain":"(DL)","Class":"E","Notes":""},{"Name":"Steam","BookPage":"mits.145","Type":"P","Target":"4(RC)","Duration":"I","Range":"LOS","Drain":"(DL+1)","Class":"E","Notes":""},{"Name":"Thunderbolt","BookPage":"mits.145","Type":"P","Target":"4(RC)","Duration":"I","Range":"LOS","Drain":"(DL+1)","Class":"E","Notes":""},{"Name":"Thunderclap","BookPage":"mits.145","Type":"P","Target":"4(RC)","Duration":"I","Range":"LOS(A)","Drain":"(DL+2)","Class":"E","Notes":""},{"Name":"Toxic Wave","BookPage":"sr3.196","Type":"P","Target":"4(RC)","Duration":"I","Range":"LOS(A)","Drain":"+1(DL+2)","Class":"E","Notes":""},{"Name":"Waterbolt","BookPage":"twl.124","Type":"P","Target":"4(RC)","Duration":"I","Range":"LOS","Drain":"(DL)","Class":"E","Notes":""},{"Name":"Animate","BookPage":"mits.145","Type":"P","Target":"OR","Duration":"S","Range":"LOS","Drain":"+1(M)","Class":"T","Notes":""},{"Name":"Bind","BookPage":"mits.145","Type":"P","Target":"Q(R)","Duration":"S","Range":"LOS","Drain":"+2(M)","Class":"T","Notes":""},{"Name":"Catfall","BookPage":"mits.145","Type":"P","Target":"4","Duration":"S","Range":"LOS","Drain":"+1(M)","Class":"T","Notes":""},{"Name":"Cat Leap","BookPage":"tss.9","Type":"P","Target":"4","Duration":"I","Range":"P","Drain":"+1(M)","Class":"T","Notes":""},{"Name":"Clout","BookPage":"sr3.197","Type":"P","Target":"4(RC)","Duration":"I","Range":"LOS","Drain":"(DL)","Class":"T","Notes":""},{"Name":"Deflect","BookPage":"mits.145","Type":"P","Target":"4","Duration":"S","Range":"LOS","Drain":"+2(M)","Class":"T","Notes":""},{"Name":"Fling","BookPage":"sr3.197","Type":"P","Target":"4(RC)","Duration":"I","Range":"T","Drain":"+1(M)","Class":"T","Notes":""},{"Name":"Gecko Crawl","BookPage":"mits.146","Type":"P","Target":"4","Duration":"S","Range":"LOS","Drain":"+2(M)","Class":"T","Notes":""},{"Name":"Levitate","BookPage":"sr3.197","Type":"P","Target":"4(R)","Duration":"S","Range":"LOS","Drain":"+2(M)","Class":"T","Notes":""},{"Name":"Lock","BookPage":"mits.146","Type":"P","Target":"4","Duration":"S","Range":"LOS","Drain":"+2(M)","Class":"T","Notes":""},{"Name":"Magic Fingers","BookPage":"sr3.197","Type":"P","Target":"6","Duration":"S","Range":"LOS","Drain":"+2(M)","Class":"T","Notes":""},{"Name":"Mana Bind","BookPage":"mits.146","Type":"M","Target":"Q","Duration":"S","Range":"LOS","Drain":"+1(M)","Class":"T","Notes":""},{"Name":"Mana Net","BookPage":"mits.146","Type":"M","Target":"Q","Duration":"S","Range":"LOS","Drain":"+1(S)","Class":"T","Notes":""},{"Name":"Natural Armor","BookPage":"tss.9","Type":"P","Target":"6","Duration":"S","Range":"LOS","Drain":"+3(D)","Class":"T","Notes":""},{"Name":"Net","BookPage":"mits.145","Type":"P","Target":"Q(R)","Duration":"S","Range":"LOS(A)","Drain":"+2(S)","Class":"T","Notes":""},{"Name":"Poltergeist","BookPage":"sr3.197","Type":"P","Target":"4(R)","Duration":"S","Range":"LOS(A)","Drain":"+1(M)","Class":"T","Notes":""},{"Name":"Redirect","BookPage":"mits.146","Type":"P","Target":"4(RC)","Duration":"I","Range":"LOS","Drain":"+1(DL)","Class":"T","Notes":""},{"Name":"Shape Earth","BookPage":"mits.146","Type":"P","Target":"4","Duration":"S","Range":"LOS(A)","Drain":"+2(M)","Class":"T","Notes":""},{"Name":"Shape Water","BookPage":"mits.146","Type":"P","Target":"4","Duration":"S","Range":"LOS(A)","Drain":"+2(M)","Class":"T","Notes":""},{"Name":"Use(Skill)->","BookPage":"mits.146","Type":"P","Target":"6","Duration":"S","Range":"LOS","Drain":"+2(L)","Class":"T","Notes":""},{"Name":"Alter Pressure","BookPage":"twl.131","Type":"P","Target":"4","Duration":"S","Range":"LOS(A)","Drain":"+2(S)","Class":"Z","Notes":""},{"Name":"Alter Temperature","BookPage":"mits.146","Type":"P","Target":"4","Duration":"S","Range":"LOS(A)","Drain":"+2(M)","Class":"Z","Notes":""},{"Name":"Armor","BookPage":"sr3.198","Type":"P","Target":"6","Duration":"S","Range":"LOS","Drain":"+2(M)","Class":"Z","Notes":""},{"Name":"Astral Armor","BookPage":"mits.146","Type":"M","Target":"6","Duration":"S","Range":"LOS","Drain":"+1(M)","Class":"Z","Notes":""},{"Name":"Astral Barrior","BookPage":"sr3.198","Type":"M","Target":"6","Duration":"S","Range":"LOS(A)","Drain":"+1(S)","Class":"Z","Notes":""},{"Name":"Clean(Element)->","BookPage":"mits.146","Type":"P","Target":"6","Duration":"P","Range":"LOS(A)","Drain":"+1(S)","Class":"Z","Notes":""},{"Name":"Clean Item","BookPage":"tss.18","Type":"P","Target":"2","Duration":"P","Range":"T","Drain":"(L)","Class":"Z","Notes":""},{"Name":"Control Fire","BookPage":"mits.146","Type":"P","Target":"Pfire","Duration":"S","Range":"LOS(A)","Drain":"+2(M)","Class":"Z","Notes":""},{"Name":"Create Food","BookPage":"mits.147","Type":"P","Target":"4","Duration":"P","Range":"LOS","Drain":"+1(S)","Class":"Z","Notes":""},{"Name":"Dry Item","BookPage":"tss.18","Type":"P","Target":"2","Duration":"P","Range":"LOS","Drain":"(L)","Class":"Z","Notes":""},{"Name":"Earth Barrier","BookPage":"tss.4","Type":"P","Target":"5","Duration":"P","Range":"LOS","Drain":"+2(M)","Class":"Z","Notes":""},{"Name":"Emotion Paint","BookPage":"tss.12","Type":"M","Target":"4","Duration":"P","Range":"T","Drain":"(M)","Class":"Z","Notes":""},{"Name":"Fashion","BookPage":"mits.147","Type":"P","Target":"6","Duration":"P","Range":"T","Drain":"+1(L)","Class":"Z","Notes":""},{"Name":"Firewall","BookPage":"mits.147","Type":"P","Target":"4","Duration":"S","Range":"LOS(A)","Drain":"+2(S)","Class":"Z","Notes":""},{"Name":"Fix","BookPage":"mits.147","Type":"P","Target":"OR","Duration":"P","Range":"T","Drain":"(S)","Class":"Z","Notes":""},{"Name":"Flame Aura","BookPage":"mits.147","Type":"P","Target":"4","Duration":"S","Range":"LOS(A)","Drain":"+2(M)","Class":"Z","Notes":""},{"Name":"Flavor","BookPage":"tss.18","Type":"P","Target":"2","Duration":"I","Range":"T","Drain":"(L)","Class":"Z","Notes":""},{"Name":"Freeze Water","BookPage":"mits.147","Type":"P","Target":"4","Duration":"I","Range":"LOS(A)","Drain":"+1(M)","Class":"Z","Notes":""},{"Name":"Glue","BookPage":"mits.147","Type":"P","Target":"4","Duration":"S","Range":"LOS(A)","Drain":"+2(M)","Class":"Z","Notes":""},{"Name":"Glue Stick","BookPage":"tss.18","Type":"P","Target":"2","Duration":"S","Range":"T","Drain":"(L)","Class":"Z","Notes":""},{"Name":"Glue Strip","BookPage":"mits.147","Type":"P","Target":"4","Duration":"S","Range":"LOS(A)","Drain":"+2(S)","Class":"Z","Notes":""},{"Name":"Ice Sheet","BookPage":"sr3.198","Type":"P","Target":"4","Duration":"I","Range":"LOS(A)","Drain":"+1(S)","Class":"Z","Notes":""},{"Name":"Ignite","BookPage":"sr3.198","Type":"P","Target":"4(T)","Duration":"P","Range":"LOS","Drain":"+1(D)","Class":"Z","Notes":""},{"Name":"Inertial Barrier","BookPage":"tss.4","Type":"P","Target":"6","Duration":"S","Range":"LOS","Drain":"+2(S)","Class":"Z","Notes":""},{"Name":"Light","BookPage":"sr3.198","Type":"P","Target":"4","Duration":"S","Range":"LOS(A)","Drain":"+2(M)","Class":"Z","Notes":""},{"Name":"Limited Armor","BookPage":"mits.147","Type":"P","Target":"6","Duration":"S","Range":"LOS","Drain":"+2(L)","Class":"Z","Notes":""},{"Name":"Limited Physical Barrior","BookPage":"mits.147","Type":"P","Target":"6","Duration":"S","Range":"LOS(A)","Drain":"+2(M)","Class":"Z","Notes":""},{"Name":"Makeover","BookPage":"mits.147","Type":"P","Target":"6(V)","Duration":"P","Range":"LOS","Drain":"+1(M)","Class":"Z","Notes":""},{"Name":"Mana Static","BookPage":"mits.148","Type":"M","Target":"4","Duration":"P","Range":"LOS(A)","Drain":"(D)","Class":"Z","Notes":""},{"Name":"Mist","BookPage":"mits.148","Type":"P","Target":"4","Duration":"I","Range":"LOS(A)","Drain":"+1(M)","Class":"Z","Notes":""},{"Name":"Personal Thermostat","BookPage":"twl.119","Type":"P","Target":"4","Duration":"S","Range":"LOS","Drain":"+2(L)","Class":"Z","Notes":""},{"Name":"Petrify","BookPage":"sr3.198","Type":"P","Target":"B(T)","Duration":"S","Range":"LOS","Drain":"+1(S)","Class":"Z","Notes":""},{"Name":"Physical Barrier","BookPage":"sr3.198","Type":"P","Target":"6","Duration":"S","Range":"LOS(A)","Drain":"+2(S)","Class":"Z","Notes":""},{"Name":"Radiation Barrier","BookPage":"twl.111","Type":"P","Target":"6","Duration":"S","Range":"LOS","Drain":"+1(S)","Class":"Z","Notes":"Not sure about Range!"},{"Name":"Radiation Shield","BookPage":"twl.111","Type":"P","Target":"6","Duration":"S","Range":"LOS","Drain":"+1(M)","Class":"Z","Notes":"Not sure about Range!"},{"Name":"Reinforce","BookPage":"mits.148","Type":"P","Target":"OR","Duration":"S","Range":"LOS","Drain":"+1(M)","Class":"Z","Notes":""},{"Name":"Ritual Cleansing","BookPage":"tss.12","Type":"M","Target":"4","Duration":"P","Range":"LOS","Drain":"(S)","Class":"Z","Notes":""},{"Name":"Shadow","BookPage":"sr3.198","Type":"P","Target":"4","Duration":"S","Range":"LOS(A)","Drain":"+2(M)","Class":"Z","Notes":""},{"Name":"Shape Snow/Ice","BookPage":"twl.124","Type":"P","Target":"4","Duration":"S","Range":"LOS","Drain":"+2(M)","Class":"Z","Notes":""},{"Name":"Shapechange","BookPage":"mits.148","Type":"P","Target":"B(TV)","Duration":"S","Range":"LOS","Drain":"+1(M)","Class":"Z","Notes":""},{"Name":"Soak Item","BookPage":"tss.18","Type":"P","Target":"2","Duration":"I","Range":"LOS","Drain":"(L)","Class":"Z","Notes":""},{"Name":"Spell Shield","BookPage":"mits.148","Type":"M","Target":"6","Duration":"S","Range":"LOS","Drain":"(M)","Class":"Z","Notes":""},{"Name":"Spell Wall","BookPage":"mits.148","Type":"M","Target":"6","Duration":"S","Range":"LOS(A)","Drain":"(S)","Class":"Z","Notes":""},{"Name":"Spirit Barrior","BookPage":"mits.148","Type":"M","Target":"6","Duration":"S","Range":"LOS(A)","Drain":"(S)","Class":"Z","Notes":""},{"Name":"Sterilize","BookPage":"mits.148","Type":"P","Target":"4","Duration":"I","Range":"LOS(A)","Drain":"+1(M)","Class":"Z","Notes":""},{"Name":"Transform","BookPage":"mits.148","Type":"P","Target":"B(T)","Duration":"S","Range":"LOS","Drain":"+1(S)","Class":"Z","Notes":""},{"Name":"Wind","BookPage":"mits.148","Type":"P","Target":"4","Duration":"S","Range":"LOS(A)","Drain":"+2(M)","Class":"Z","Notes":""},{"Name":"Zip","BookPage":"tss.18","Type":"P","Target":"2","Duration":"S","Range":"P","Drain":"(L)","Class":"Z","Notes":""},{"Name":"Custom Dummy Spell","BookPage":"cus.00","Type":"T","Target":"0","Duration":"0","Range":"0","Drain":"0","Class":"0","Notes":""}]);
  const AdeptPowers = [{"Name":"Adhesion","BookPage":"tss.1","Cost":"1.00","Mods":"","Notes":"Works similar to magentism but on all materials.  Instant on/off and can be used with only some parts of the body if desired."},{"Name":"Agravated Damage","BookPage":"adh.3","Cost":"1.00","Mods":"","Notes":"If all unarmed combat dice succeed, stage damage level by 1"},{"Name":"Aimed Shot*","BookPage":"adh.3","Cost":"0.50","Mods":"","Notes":"reduce called shot modifer by 1 per level"},{"Name":"Aid Spell*","BookPage":"sta2.64","Cost":"0.50","Mods":"","Notes":"1 die per level to support magician casting a spell in same Initiative Phase"},{"Name":"Animal Empathy*","BookPage":"sta2.64","Cost":"0.25","Mods":"","Notes":"1 die per level for attempts to threaten, calm or frighten an animal"},{"Name":"Astral Perception","BookPage":"sr3.168","Cost":"2.00","Mods":"","Notes":" You have the ability to see and reach into the astral plane via astral perception."},{"Name":"Attribute Boost(STR)*","BookPage":"sr3.168","Cost":"0.25","Mods":"","Notes":" Make a Magic Test against a target number equal to one half the base (unaugmented)rating of the attribute being boosted (round up) . . . When the boost runs out you must make a Drain Resistance Test."},{"Name":"Attribute Boost(QIC)*","BookPage":"sr3.168","Cost":"0.25","Mods":"","Notes":" Make a Magic Test against a target number equal to one half the base (unaugmented) rating of the attribute being boosted (round up) . . . When the boost runs outyou must make a Drain Resistance Test."},{"Name":"Attribute Boost(BOD)*","BookPage":"sr3.168","Cost":"0.25","Mods":"","Notes":" Make a Magic Test against a target number equal to one half the base (unaugmented) rating of the attribute being boosted (round up) . . . When the boost runs outyou must make a Drain Resistance Test."},{"Name":"Blend In\\Stand Out","BookPage":"tss.4","Cost":"0.75","Mods":"","Notes":"One power can be used either way.  Use counts as sustaining a spell but is not evident in astral."},{"Name":"Blind Fighting","BookPage":"mits.149","Cost":"0.50","Mods":"","Notes":" Blind fighting reduces the visibility modifier for blind fire or full darkness to +4."},{"Name":"Body Control*","BookPage":"sr3.169","Cost":"0.25","Mods":"","Notes":" Each level of body control provides 1 additional die for Resistance Tests against toxins and diseases."},{"Name":"Combat Sense +1","BookPage":"sr3.169","Cost":"1.00","Mods":"+1CPL","Notes":" Combat sense provides an instinctive sense about an area and any potential threats nearby. See table (SR3-169)."},{"Name":"Combat Sense +2","BookPage":"sr3.169","Cost":"2.00","Mods":"+2CPL","Notes":" Combat sense provides an instinctive sense about an area and any potential threats nearby. See table (SR3-169)."},{"Name":"Combat Sense +3","BookPage":"sr3.169","Cost":"3.00","Mods":"+3CPL","Notes":" Combat sense provides an instinctive sense about an area and any potential threats nearby. See table (SR3-169)."},{"Name":"Commanding Voice","BookPage":"sta2.64","Cost":"0.50","Mods":"","Notes":"Adept can speak a Command with three or less words. Opposed test between adepts Charisma and opponents Willpower. If the adept wins the opponent is either distracted or obeys the command (GM)."},{"Name":"Cool Resolve*","BookPage":"sta2.65","Cost":"0.50","Mods":"","Notes":"Protection against intimidation, manipulation, or fooling in social situations. +1 die per level against any of such rolls. No protection against magic or critter powers, but against other adepts powers."},{"Name":"Counterstrike*","BookPage":"mits.149","Cost":"0.50","Mods":"","Notes":" +1 die per level for counterattack tests in melee combat, either armed or unarmed."},{"Name":"Deep Rooting","BookPage":"sta2.65","Cost":"0.50","Mods":"","Notes":"Same Effect as level 1 Rooting; Recoil penalties halved. Movement is limited"},{"Name":"Delay Damage 1","BookPage":"mits.149","Cost":"1.00","Mods":"","Notes":" The obvious form of this power is handled as a normal attack, it just appears to do no damage at the time."},{"Name":"Delay Damage 2","BookPage":"mits.149","Cost":"2.00","Mods":"","Notes":" An adept with the silent form of this power merely needs to bump into, brush against, or otherwise touch the target unobtrusively."},{"Name":"Distance Strike","BookPage":"mits.149","Cost":"2.00","Mods":"","Notes":" Adept can \"transmit\"an unarmed attack over a short distance (range in meters equal to the adept's magic) and inflicts the adept's standard unarmed damage."},{"Name":"Eidetic Sense Memory","BookPage":"sta2.65","Cost":"0.50","Mods":"","Notes":"The adept gains photo sight memory in addition to a increased memory involving all other senses."},{"Name":"Elemental Strike","BookPage":"sta2.65","Cost":"0.50","Mods":"","Notes":"In addition with Killing Hands an adept can create a secondary elemental effect, which is chosen when power is purchased."},{"Name":"Empathic Healing","BookPage":"sta2.65","Cost":"0.50","Mods":"","Notes":" Empathic Healing grants the adept the ability to heal others by transferring their damage onto himself."},{"Name":"Empathic Reading*","BookPage":"sta2.65","Cost":"0.25","Mods":"","Notes":" The adept senses if someone is lying. Receive -1 on target number per level when talking to someone who lies."},{"Name":"Empathic Sense","BookPage":"mits.149","Cost":"0.50","Mods":"","Notes":" Empathic Sense grants a limited form of magical awareness that allows an adept to sensethe feelings of those he can see with his unaided vision."},{"Name":"Enhanced Balance 1","BookPage":"sta2.65","Cost":"0.50","Mods":"","Notes":" Reduce target number by one for each level of this power when performing acts of balance or knockdowns."},{"Name":"Enhanced Balance 2","BookPage":"sta2.65","Cost":"1.00","Mods":"","Notes":" Reduce target number by one for each level of this power when performing acts of balance or knockdowns."},{"Name":"Enhanced Centering (x skill)   1","BookPage":"gm2.34","Cost":"2.00","Mods":"","Notes":""},{"Name":"Enhanced Perception*","BookPage":"sr3.169","Cost":"0.50","Mods":"","Notes":" Each level provides an additional die for all Perception Tests SR3-231, including astral perception, if you have that power."},{"Name":"Enthralling Performance","BookPage":"sta2.65","Cost":"0.50","Mods":"","Notes":" The adept enthralls an audience with a performance (chosen when power is purchased) such as singing or dancing."},{"Name":"Facial Sculpt","BookPage":"sta2.66","Cost":"1.00","Mods":"","Notes":" The adpet can sculpt his face as desired for a number of hours equal to his Magic attribute"},{"Name":"Flexibility 1","BookPage":"mits.149","Cost":"0.50","Mods":"","Notes":" This power reduces the target numbers for athletics (escape artist) by 1."},{"Name":"Flexibility 2","BookPage":"mits.149","Cost":"1.00","Mods":"","Notes":" This power reduces the target numbers for athletics (escape artist) by 2."},{"Name":"Freefall*","BookPage":"mits.150","Cost":"0.25","Mods":"","Notes":" For each level of freefall, an adept can fall a distance of 2 meters without suffering an injury or making a damage resistance . . ."},{"Name":"Gliding","BookPage":"mits.150","Cost":"1.00","Mods":"","Notes":" The adept can run a distance of (Magic) meters on tangible surfaces such as water, tree limbs or thin ice. Attempts for running longer distances require break points."},{"Name":"Great Leap*","BookPage":"mits.150","Cost":"0.25","Mods":"","Notes":" Each level of greatleap adds a die for Jumping Tests and is also added to the characters Quickness for determining the maximum distance a character can jump."},{"Name":"Imp Abl Artistic Skl*->","BookPage":"sta2.66","Cost":"0.25","Mods":"","Notes":" This power gives you additional dice for use with an artistic/ perfomance Knowledge Skill."},{"Name":"Imp Abl B/R Skl*->","BookPage":"sta2.66","Cost":"0.50","Mods":"","Notes":" This power gives you additional dice for use with a specific B/R Skill."},{"Name":"Imp Abl Combat Skl*->","BookPage":"sr3.169","Cost":"0.50","Mods":"","Notes":" This power gives you additional dice for use with a specific Active Skill."},{"Name":"Imp Abl Phys Skl*->","BookPage":"sr3.169","Cost":"0.25","Mods":"","Notes":" This power gives you additional dice for use with a specific Active Skill."},{"Name":"Imp Abl Social Skl*->","BookPage":"sta2.66","Cost":"0.50","Mods":"","Notes":" This power gives you additional dice for use with a specific Social Skill."},{"Name":"Imp Abl Vehicle Skl*->","BookPage":"sta2.66","Cost":"0.50","Mods":"","Notes":" This power gives you additional dice for use with a specific Vehicle Skill."},{"Name":"Imp. Phys. Attr.(BOD)*","BookPage":"sr3.169","Cost":"0.50","Mods":"+1ROD","Notes":" With this power you can improve a physical attribute.  Each level of the power increases the attribute by 1."},{"Name":"Imp. Phys. Attr.(BOD)>RACMOD*  1","BookPage":"sr3.169","Cost":"1.00","Mods":"+1ROD","Notes":" With this power you can improve a physical attribute beyond the Racial Modified limit.  Each level of the power increases the attribute by 1."},{"Name":"Imp. Physical Attr.(STR)*","BookPage":"sr3.169","Cost":"0.50","Mods":"+1RTR","Notes":" With this power you can improve a physical attribute.  Each level of the power increases the attribute by 1."},{"Name":"Imp. Phys. Attr.(STR)>RACMOD*  1","BookPage":"sr3.169","Cost":"1.00","Mods":"+1RTR","Notes":" With this power you can improve a physical attribute beyond the Racial Modified limit.  Each level of the power increases the attribute by 1."},{"Name":"Imp. Physical Attr.(QCK)*","BookPage":"sr3.169","Cost":"0.50","Mods":"+1RCK","Notes":" With this power you can improve a physical attribute.  Each level of the power increases the attribute by 1."},{"Name":"Imp. Phys. Attr.(QCK)>RACMOD*  1","BookPage":"sr3.169","Cost":"1.00","Mods":"+1RCK","Notes":" With this power you can improve a physical attribute beyond the Racial Modified limit.  Each level of the power increases the attribute by 1."},{"Name":"Imp. Reflexes Level 1","BookPage":"sr3.169","Cost":"2.00","Mods":"+2RCT,+1INI","Notes":" This power increases the speed at which you react, just like wired reflexes SR3-301."},{"Name":"Imp. Reflexes Level 2","BookPage":"sr3.169","Cost":"3.00","Mods":"+4RCT,+2INI","Notes":" This power increases the speed at which you react, just like wired reflexes SR3-301."},{"Name":"Imp. Reflexes Level 3","BookPage":"sr3.169","Cost":"5.00","Mods":"+6RCT,+3INI","Notes":" This power increases the speed at which you react, just like wired reflexes SR3-301."},{"Name":"Imp. Sense: Low-Light Vision   1","BookPage":"sr3.169","Cost":"0.25","Mods":"","Notes":" This power provides low-light vision SR3-300."},{"Name":"Imp. Sense: Thermo Vision","BookPage":"sr3.169","Cost":"0.25","Mods":"","Notes":" This power provides thermographic vision SR3-300."},{"Name":"Imp. Sense: Flare Comp.","BookPage":"sr3.169","Cost":"0.25","Mods":"","Notes":" This power provides flare compensation SR3-300."},{"Name":"Imp. Sense: Vision Mag 3","BookPage":"sr3.169","Cost":"0.25","Mods":"","Notes":" This power provides vision magnification 3 SR3-300."},{"Name":"Imp. Sense: High Freq. Hearing 1","BookPage":"sr3.169","Cost":"0.25","Mods":"","Notes":" This power provides high frequency hearing SR3-299."},{"Name":"Imp. Sense: Low Freq. Hearing  1","BookPage":"sr3.169","Cost":"0.25","Mods":"","Notes":" This power provides low frequency hearing SR3-299."},{"Name":"Imp. Sense: Sound Dampening    1","BookPage":"sr3.169","Cost":"0.25","Mods":"","Notes":" This power providessound dampening, functioning like the cyberear Dampener SR3-299."},{"Name":"Imp. Sense: Sound Filter 5","BookPage":"sr3.169","Cost":"0.25","Mods":"","Notes":" This power provides sound filtering, functioning like the cyberear Sound Filter SR3-299."},{"Name":"Imp. Sense: Spatial Recognizer 1","BookPage":"mits.18","Cost":"0.25","Mods":"","Notes":" This power provides the benefit of the cyberear Spatial Recognizer SR3-299."},{"Name":"Imp. Sense: Enhanced Hearing   1","BookPage":"sr3.169","Cost":"0.25","Mods":"","Notes":" This power provides enhanced hearing SR3-299."},{"Name":"Imp. Sense: Directional Sense  1","BookPage":"sr3.169","Cost":"0.25","Mods":"","Notes":" You know what direction you are facing, and whether you are above or below the localground level, with a successful Perception 4 test."},{"Name":"Imp. Sense: Improved Scent","BookPage":"sr3.169","Cost":"0.25","Mods":"","Notes":" You can identify scents in the same way as a bloodhound."},{"Name":"Imp. Sense: Improved Taste","BookPage":"sr3.169","Cost":"0.25","Mods":"","Notes":" You have highly acute taste and can identify ingredients and contamination in food anddrink."},{"Name":"Inertia Strike","BookPage":"sta2.66","Cost":"0.50","Mods":"","Notes":" The adept strikes a target with a base Damage Level reduced by one but the target must resist a Knockdown as if the Damage Level was one level higher, even if no damage was taken."},{"Name":"Iron Gut","BookPage":"sta2.66","Cost":"0.50","Mods":"","Notes":" An adept can eat anything, his body will digest anything without harm. The Power of ingested toxins is reduced by 2."},{"Name":"Iron Lungs","BookPage":"sta2.66","Cost":"0.25","Mods":"","Notes":" With each level of this power an adept can hold his breath for another 45 seconds. Each level reduces fatigue tests by 2."},{"Name":"Iron Will*","BookPage":"mits.150","Cost":"0.50","Mods":"","Notes":" Each level provides an additional die when resisting any attempt to control or alter the adept's mind, including manipulation spells and critter powers."},{"Name":"Kinesics 1","BookPage":"sr3.170","Cost":"1.00","Mods":"","Notes":" An adept with Kinesics has complete control over his body's nonverbal and subconscious communication."},{"Name":"Killing Hands STR(Light)","BookPage":"sr3.170","Cost":"0.50","Mods":"","Notes":" This power uses magic to turn unarmed attacks into light physical damage."},{"Name":"Killing Hands STR(Medium)","BookPage":"sr3.170","Cost":"1.00","Mods":"","Notes":" This power uses magic to turn unarmed attacks into medium physical damage."},{"Name":"Killing Hands STR(Serious)","BookPage":"sr3.170","Cost":"2.00","Mods":"","Notes":" This power uses magic to turn unarmed attacks into serious physical damage."},{"Name":"Killing Hands STR(Deadly)","BookPage":"sr3.170","Cost":"4.00","Mods":"","Notes":" This power uses magic to turn unarmed attacks into deadly physical damage."},{"Name":"Kinesics Level 1","BookPage":"sta2.66","Cost":"1.00","Mods":"","Notes":" The adept has complete control over his non-verbal and subconscious communication."},{"Name":"Kinesics Level 2","BookPage":"sta2.66","Cost":"2.00","Mods":"","Notes":" The adept has complete control over his non-verbal and subconscious communication."},{"Name":"Kinesics Level 3","BookPage":"sta2.66","Cost":"3.00","Mods":"","Notes":" The adept has complete control over his non-verbal and subconscious communication."},{"Name":"Linguistics","BookPage":"sta2.66","Cost":"0.25","Mods":"","Notes":" The adept can learn language skill at no Karma cost."},{"Name":"Living Focus","BookPage":"sta2.67","Cost":"1.00","Mods":"","Notes":" Adept can sustain a spell cast at him."},{"Name":"Magical Power(Path:Magician)*  1","BookPage":"mits.022","Cost":"1.00","Mods":"+1MAG","Notes":"MagicLevel=Total"},{"Name":"Magic Resistance*","BookPage":"sr3.170","Cost":"1.00","Mods":"","Notes":" You posses an inherent resistance to sorcery.  Add 1 die per level of this power toall you Spell Resistance Tests."},{"Name":"Magic Sense","BookPage":"mits.150","Cost":"0.50","Mods":"","Notes":" May sense magical energies and effects within a radius equal to the adepts Magic Attribute x 5 in meters. Use the detection spell table (p. 192, SR3) to determinethe target numbers."},{"Name":"Mask","BookPage":"tss.4","Cost":"0.50","Mods":"","Notes":"Can not be used to reproduce unnatural features, cyberware appears unaltered.  Roll [rating] dice against a TN, which depends on the changes."},{"Name":"Melanin Control","BookPage":"sta2.67","Cost":"1.00","Mods":"","Notes":" The character can shift hair and skin colours within natural limits."},{"Name":"Missile Mastery","BookPage":"mits.150","Cost":"1.00","Mods":"","Notes":" Masy use as throwing weapons such normally harmless items such as pens, credsticks and IDcards become deadly weapons in the adepts hands . . ."},{"Name":"Missile Parry","BookPage":"sr3.170","Cost":"1.00","Mods":"","Notes":" You can catch slow-moving missile weapons such as arrows, thrown knives and shuriken out of the air."},{"Name":"Missile Parry (extended)","BookPage":"cs.105","Cost":"1.50","Mods":"","Notes":""},{"Name":"Motion Sense","BookPage":"sta2.67","Cost":"0.50","Mods":"","Notes":" The adept can sense any movement within Magic attribute meters, but not behind astral barriers."},{"Name":"Multi-Tasking","BookPage":"sta2.67","Cost":"0.50","Mods":"","Notes":" The adept is able to concentrate on seperate actions at the same time and can gather information from multiple senses simultaneously."},{"Name":"Mystic Armor*","BookPage":"sr3.170","Cost":"0.50","Mods":"+1IMP","Notes":" This power magically toughens your skin to resist the effects of damage. Each level providesyou with 1 point of Impact Armor, cumulative with any worn Impact Armor."},{"Name":"Nerve Strike","BookPage":"mits.150","Cost":"1.00","Mods":"","Notes":" Nerve strike allows an adept to inflict damage that effects a targets nervous system . . .Every two net success reduces quickness by one. If targets quickness is reduced to 0, the target is paralyzed."},{"Name":"Nimble Fingers","BookPage":"sta2.67","Cost":"0.50","Mods":"","Notes":" The adept can perform simple reflex and timing tricks (such as inserting a clip into a gun) more efficiently."},{"Name":"Pain Relief","BookPage":"sta2.67","Cost":"1.00","Mods":"","Notes":" The adept is able to cure one level of stun damage by channeling his energies."},{"Name":"Pain Resistance*","BookPage":"sr3.170","Cost":"0.50","Mods":"","Notes":" Pain resistance allows you to ignore the effects of injury.  It does not reduce actualdamage, only it's effects on you."},{"Name":"Penetrating Strike Level 1","BookPage":"sta2.67","Cost":"0.75","Mods":"","Notes":" An adept can bypass a target's impact armor. Cannot be used with Distance Strike."},{"Name":"Penetrating Strike Level 2","BookPage":"sta2.67","Cost":"1.50","Mods":"","Notes":" An adept can bypass a target's impact armor. Cannot be used with Distance Strike."},{"Name":"Penetrating Strike Level 3","BookPage":"sta2.67","Cost":"2.25","Mods":"","Notes":" An adept can bypass a target's impact armor. Cannot be used with Distance Strike."},{"Name":"Pheromone Control","BookPage":"tss.4","Cost":"0.50","Mods":"","Notes":"Each level adds 1 die to Charisma and social skill rolls."},{"Name":"Quick Draw","BookPage":"mits.151","Cost":"0.50","Mods":"","Notes":" The quick draw power allows an adept to use the quick drawing rules (P. 107, SR3) to quickdraw weapons other than pistols."},{"Name":"Quick Strike","BookPage":"mits.151","Cost":"3.00","Mods":"","Notes":" This power allows the adept to act first in one initiative pass per combat turn."},{"Name":"Rapid Healing*","BookPage":"sr3.170","Cost":"0.50","Mods":"","Notes":""},{"Name":"Resilience*","BookPage":"sta2.67","Cost":"0.25","Mods":"","Notes":" The adept can stabilize Deadly Wounds and can minimize effects of extreme wounds such as loosing limbs."},{"Name":"Ricochet","BookPage":"tss.12","Cost":"1.00","Mods":"","Notes":"Allows the adept the ability to bounce bullets off of hard surfaces.  Each such ricochet takes 2 from the power of the bullet and adds 2 to the target number of the shot."},{"Name":"Rooting*","BookPage":"mits.151","Cost":"0.25","Mods":"","Notes":" Each level adds 1die to all tests to resist being knocked down, thrown, levitated or otherwise moved against his will."},{"Name":"Side Step*","BookPage":"sta2.67","Cost":"0.50","Mods":"","Notes":" The adept gains one additional Combat Pool die per level for Dodge and Full Dodge attempts."},{"Name":"Sixth Sense*","BookPage":"mits.151","Cost":"0.25","Mods":"","Notes":" Each level allows the adept to roll an additional die when making Reaction Tests forsurprise SR3-108"},{"Name":"Sprint*","BookPage":"sta2.68","Cost":"0.25","Mods":"","Notes":" The adept gains +1 quickness for determining running distance."},{"Name":"Smashing Blow","BookPage":"mits.151","Cost":"1.00","Mods":"","Notes":" Smashing blow allows an adept to focus magical energy into a devastating strike designed to smash through barriers."},{"Name":"Spell Shroud*","BookPage":"mits.151","Cost":"0.25","Mods":"","Notes":" For each level of the power, the adept adds 1 die to Spell Resistance Tests against detection spells only."},{"Name":"Staredown","BookPage":"tss.18","Cost":"2.00","Mods":"","Notes":"Opposed Will(4) test with opponent, for every 2 net successes the winner rolls, the loser hesitates 1 phase.  Tie results in deadlock; either both lose phase and start again or someone forfeits one to end."},{"Name":"Suspended State","BookPage":"sr3.170","Cost":"1.00","Mods":"","Notes":" Roll Willpower vs target of 4 and see the Hibernate spell description SR3-194."},{"Name":"Sustenance","BookPage":"sta2.68","Cost":"0.25","Mods":"","Notes":" The adept only needs to have 3 hours of sleep and one full meal per day."},{"Name":"Temperature Tolerance*","BookPage":"mits.151","Cost":"0.25","Mods":"","Notes":" For each level of temperature tolerance, the adept gains an extra die for resisting the effects and damage of exposure to extreme temperature."},{"Name":"Thermal Chameleon","BookPage":"tss.12","Cost":"0.50","Mods":"","Notes":"Heat radiated from the adepts body becomes similar to it's surroundings. TN for perception tests to find adept with thermal vision/sensors get +1 per level."},{"Name":"Three Dimensional Memory","BookPage":"sta2.68","Cost":"0.50","Mods":"","Notes":" The adept can remember a scene in a three-dimensional way and mentally walk through his memory at a later time."},{"Name":"Traceless Walk","BookPage":"mits.151","Cost":"0.50","Mods":"","Notes":" An adept with the traceless walk power can move over soft or brittle surfaces such as snow, sand, or thin paper without leaving any visible traces or noise."},{"Name":"True Sight*","BookPage":"mits.151","Cost":"0.25","Mods":"","Notes":" Each level of this power gives the adept an additional die when making Resistance Tests against illusion spells and illusion-based critter powers."},{"Name":"Virtuoso","BookPage":"tss.4","Cost":"0.50","Mods":"","Notes":"+1 per level to Perfoamnce ratring when physically playing an instrument."},{"Name":"Voice Alteration","BookPage":"tss.4","Cost":"1.50","Mods":"","Notes":"Adept can roll INT(8) to make his voice reproduce any natural sound, -1 TN for each previous sucess with a given sound.  TN 14 to mimic a voice."},{"Name":"Voice Control","BookPage":"sta2.68","Cost":"0.50","Mods":"","Notes":" The adept can mask her voice, imitate sounds in the range of metahuman vocalisation and even copy another persons' voice."},{"Name":"Wall Running","BookPage":"sta2.68","Cost":"1.00","Mods":"","Notes":" The adept can run up to Magic attribute meters on walls or other vertical surfaces."}];

  const FullMageTraditions = ['Full Mage','Psionicist','Wujen','Aboriginal Magic','Aztec Magic','Black Magic','Chaos Magic','Christian Magic','Druid Magic','Egyptian Magic','Gypsy Magic',"Hawai'ian Magic",'Hindu Magic','Islamic Magic','Norse Magic','Qabbalistic Magic','Rastafarian Magic','Shinto Magic','Witchcraft','Elemental Mage (Fire)','Elemental Mage (Water)','Elemental Mage (Air)','Elemental Mage (Earth)'];
  const AspectedMageTraditions = ['Shaman','Conjurer','Elementalist','Shamanist','Sorcerer','WuFa'];
  const AdeptPaths = ["Athelete's Way","Artist's Way","Warriors's Way","Invisible Way","Spirit Way","Totem Way", "Magician's Way"]
  const Totems = [{name:'Ant Eater',environment:'ENV'},{name:'Badger'}]
  
  const [newSpell, setNewSpell] = useState('');
  const [newSpellIndex, setNewSpellIndex] = useState('');
  const [selectedSpells, setSelectedSpells] = useState([]);
  const [selectedCategory, setSelectedCategory] = useState('');
  const [spellRating, setSpellRating] = useState(1);
  const [spellPointsSpent, setSpellPointsSpent] = useState(0);
  const [spellPointsMax, setSpellPointsMax] = useState(36);
  const [magicalTradition, setMagicalTradition] = useState('Full Magician')
  
  const [AdeptPointsSpent, setAdeptPointsSpent] = useState(0.0);
  const [AdeptPointsMax, setAdeptPointsMax] = useState(6);
  const [newPower, setNewPower] = useState('');
  const [newPowerCost, setNewPowerCost] = useState(0.0);
  const [newPowerDesc, setNewPowerDesc] = useState('');
  const [newPowerHasRating, setNewPowerHasRating] = useState(false);
  const [NewPowerIndex, setNewPowerIndex] = useState('');
  const [newPowerRating, setNewPowerRating] = useState(0);
  const [powerCost, setPowerCost] = useState(0);
  const [selectedPowers, setSelectedPowers] = useState([]);

  const handleSpellChange = (event) => {
    const TempSpell = spellsData[event.target.value];
    setNewSpell(TempSpell);
    setNewSpellIndex(event.target.value);
  };

  const handlePowerChange = (event) => {
    const TempPower = AdeptPowers[event.target.value];
    setNewPower(TempPower);
    setNewPowerIndex(event.target.value)
    setNewPowerCost(TempPower.Cost);
    setNewPowerDesc(TempPower.Notes)
  }

  const handleRatingChange = (event) => {
    const rating = parseInt(event.target.value);
    if (!isNaN(rating) && rating >= 1 && rating <= 6) {
      setSpellRating(rating);
    }
  };

  const handleCostChange = (event) => {
    const cost = parseFloat(event.target.value);
    if (!isNaN(cost)){
      setPowerCost(cost);
    }
  };
  

  const handleAddSpell = () => {
    if (newSpell) {
      //const spellToAdd = { name: newSpell, rating:spellRating, };
      //{"Name":"Zip","BookPage":"tss.18","Type":"P","Target":"2","Duration":"S","Range":"P","Drain":"(L)","Class":"Z","Notes":""
      const spellToAdd = {  
                            index: newSpellIndex,
                            name: newSpell.Name, 
                            bookpage:newSpell.BookPage, 
                            type:newSpell.Type,
                            target:newSpell.Target,
                            duration:newSpell.Duration,
                            class:newSpell.Class, 
                            drain:newSpell.Drain, 
                            notes:newSpell.Notes, 
                            range:newSpell.Range, 
                            rating:spellRating
                          }
      setSelectedSpells(prevSpells => [...prevSpells, spellToAdd]);
      setSpellPointsSpent(prevSpells => (prevSpells + spellRating));
      setNewSpell('');
      setNewSpellIndex('');
      props.onChangeSpells([...selectedSpells, spellToAdd]);
    }
  };

  const handleAddPower = () => {
    if (newPower) {
      const powerToAdd = {  
                            index: NewPowerIndex, 
                            name: newPower.Name, 
                            bookpage:newPower.BookPage, 
                            cost:newPower.Cost, 
                            notes:newPower.Notes, 
                            mods:newPower.Mods, 
                            rating:newPowerRating 
                          };
      setSelectedPowers(prevPowers => [...prevPowers, powerToAdd]);
      setAdeptPointsSpent(prevPowersPointsSpent => (prevPowersPointsSpent + powerToAdd.Cost));
      setNewPower('');
      setNewPowerIndex('');
      props.onChangePowers([...selectedPowers, powerToAdd]);
    }
  }

  const handleEditPower = (index) => {
    // const editedSpells = [...selectedSpells];
    // const spellToEdit = editedSpells[index];
    // setNewSpell(spellToEdit.name);
    // setSpellRating(spellToEdit.rating);
    // editedSpells.splice(index, 1);
    // setSelectedSpells(editedSpells);
  }

  const handleEditSpell = (index) => {
    const editedSpells = [...selectedSpells];
    const spellToEdit = editedSpells[index];
    setNewSpell(spellToEdit.name);
    setSpellRating(spellToEdit.rating);
    editedSpells.splice(index, 1);
    setSelectedSpells(editedSpells);
  };

  const handleRemoveSpell = (index) => {
    const editedSpells = [...selectedSpells];
    let SpellRemoved = editedSpells.splice(index, 1);
    setSpellPointsSpent(prevSpells => (prevSpells - SpellRemoved[0].rating));
    setSelectedSpells(editedSpells);
    props.onChangeSpells(editedSpells);
  };

  const handleRemovePower = (index) => {
    const editedPowers = [...selectedPowers];
    let PowerRemoved = editedPowers.splice(index, 1);
    setSpellPointsSpent(prevPowers => (prevPowers - PowerRemoved[0].Cost));
    setSelectedPowers(editedPowers);
    props.onChangePowers(editedPowers);
  };

  const RenderMagicianWithSpells = () =>{
    return (<>
    <Box sx={{ width: '100%' }}>Spells {spellPointsSpent}/{spellPointsMax}
            <LinearProgress variant="determinate" value={spellPointsSpent} />
          </Box>
          <br></br> 
          <FormControl style={{'width':'200px'}}>
            <InputLabel  id="spell-label">{selectedCategory}</InputLabel>
            <Select
              labelId="spell-label"
              id="spell-dropdown"
              value={newSpellIndex}
              onChange={handleSpellChange}
            >
              {spellsData.map( (spell, index) => (
                <MenuItem key={index} value={index}>{spell.Name}</MenuItem>
              ))}
            </Select>
          </FormControl>

          {newSpell && (
            <>
              <TextField style={{'width':'100px', 'marginRight':'20px'}}
                id="rating-input"
                label="Rating (1-6)"
                type="number"
                value={spellRating}
                onChange={handleRatingChange}
                InputProps={{
                  inputProps: { min: 1, max: 6 },
                }}
              />
            </>
          )}
          <Button variant="contained" color="primary" onClick={handleAddSpell}>
            Add Spell
          </Button>

    <hr></hr>
    <h3>Spells</h3>
          <List style={{maxWidth:'100%'}}>
            {selectedSpells.map((spell, index) => (
              <ListItem key={index}>
                <ListItemText
                  primary={`Name:${spell.name} Rating:${spell.rating} Drain Code:${spell.drain} Duration:${spell.duration} Target:${spell.target}`}
                />
                <Button color="primary" onClick={() => handleEditSpell(index)}>
                  Edit
                </Button>
                <Button color="secondary" onClick={() => handleRemoveSpell(index)}>
                  Remove
                </Button>
              </ListItem>
            ))}
          </List>
      </>
    )
  }


  const RenderPhysicalAdepts = () =>{
    return (<><h3>Adept Powers</h3>
    <Box sx={{ width: '100%' }}>Power Points {AdeptPointsSpent}/{AdeptPointsMax}
            <LinearProgress variant="determinate" value={AdeptPointsSpent} />
          </Box>
          <br></br> 
          <FormControl style={{'width':'400px'}}>
            <InputLabel  id="power-label">{selectedCategory}</InputLabel>
            <Select
              labelId="power-label"
              id="power-dropdown"
              value={NewPowerIndex}
              onChange={handlePowerChange}
            >
              {AdeptPowers.map( (power, index) => (
                <MenuItem key={index} value={index}>{power.Name} - PP: {power.Cost}</MenuItem>
              ))}
            </Select>
          </FormControl>
          {newPower && (
            <>
              <TextField style={{'width':'100px', 'marginRight':'20px'}}
                id="power-cost-input"
                disabled={true}
                label="Cost"
                type="number"
                value={newPowerCost}
              />
               <Button variant="contained" color="primary" onClick={handleAddPower}>
                Add Power
              </Button>
              <div>Notes:{newPowerDesc}</div>
            </>
          )}

    <hr></hr>
    <h3>Powers</h3>
          <List style={{maxWidth:'500px'}}>
            {selectedPowers.map((power, index) => (
              <ListItem key={index}>
                <ListItemText
                  primary={`${power.name} (${power.cost})`}
                />
                <Button color="primary" onClick={() => handleEditPower(index)}>
                  Edit
                </Button>
                <Button color="secondary" onClick={() => handleRemovePower(index)}>
                  Remove
                </Button>
              </ListItem>
            ))}
          </List>
    </>)
  }

  const handleTraditionChange = (event) => {
    setMagicalTradition(event.target.value);
  }


  const RenderWindow = () =>{
    switch(props.magicalChoice){
      case 'Full Magician':
        return RenderMagicianWithSpells();
      case 'Physical Adept':
        return RenderPhysicalAdepts();
      case 'Aspected':
        return RenderMagicianWithSpells();
      break;

      default:
        return (<div>Not Magical</div>);
    }

  }

  return (
    <div>
      <h3>Magical Talents ( {props.magicalChoice} )</h3>
      {RenderWindow()}
       
    </div>
  );
}

export default MagicPanel;